(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),r=n(12),i=n.n(r),s=(n(17),n(7)),l=n(2),a=(n(18),n(4)),j=n(3),u=n(0),d=function(e){var t=e.user,n=Object(j.f)();return Object(u.jsx)(u.Fragment,{children:t?Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)("h3",{className:"App-logo",onClick:function(){return n("/")},children:"Project Tracker"}),Object(u.jsxs)("div",{style:{justifySelf:"center",marginRight:"100px"},children:[Object(u.jsx)(a.b,{style:{color:"white",marginLeft:"20px",marginRight:"20px"},to:"/clients",children:"Clients"}),Object(u.jsx)(a.b,{style:{color:"white",marginLeft:"20px",marginRight:"20px"},to:"/projects",children:"Projects"}),Object(u.jsx)(a.b,{style:{color:"white",marginLeft:"20px",marginRight:"20px"},to:"/employees",children:"Employees"})]}),Object(u.jsx)(a.b,{style:{color:"white",marginLeft:"20px"},to:"/user",children:"\ud83d\udc64Profile"}),Object(u.jsx)(a.b,{style:{color:"white",marginRight:"20px"},to:"/logout",children:"Log Out"})]}):Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)("h3",{className:"App-logo",onClick:function(){return n("/")},children:"Project Tracker"}),Object(u.jsx)(a.b,{style:{color:"white"},to:"/login",children:"Log In"}),Object(u.jsx)(a.b,{style:{color:"white"},to:"/signup",children:"Create an account"})]})})},b=n(9),h=n(11),p=function(e){var t=e.onLogin,n=Object(j.f)(),o=Object(c.useState)({username:"",password:"",passwordConfirmation:"",firstName:"",lastName:"",role:""}),r=Object(l.a)(o,2),i=r[0],s=r[1],a=function(e){var t=e.target.id,n=e.target.value,c=Object(h.a)(Object(h.a)({},i),{},Object(b.a)({},t,n));s(c)},d=Object(c.useState)([]),p=Object(l.a)(d,2),O=p[0],m=p[1],f=Object(c.useState)(!1),x=Object(l.a)(f,2),g=x[0],y=x[1];return Object(u.jsxs)("form",{className:"signup-form",onSubmit:function(e){e.preventDefault(),m([]),y(!0),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i.username,password:i.password,password_confirmation:i.passwordConfirmation,first_name:i.firstName,last_name:i.lastName,role:i.role})}).then((function(e){y(!1),e.created?e.json().then((function(e){n("/"),t(e)})):e.json().then((function(e){return m(e.errors)}))}))},children:[Object(u.jsx)("h2",{children:"Create new account"}),Object(u.jsx)("label",{htmlFor:"username",children:"Username"}),Object(u.jsx)("input",{type:"text",id:"username",autoComplete:"off",value:i.username,onChange:a}),Object(u.jsx)("label",{htmlFor:"password",children:"Password"}),Object(u.jsx)("input",{type:"password",id:"password",value:i.password,onChange:a,autoComplete:"current-password"}),Object(u.jsx)("label",{htmlFor:"password",children:"Password Confirmation"}),Object(u.jsx)("input",{type:"password",id:"passwordConfirmation",value:i.passwordConfirmation,onChange:a,autoComplete:"current-password"}),Object(u.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(u.jsx)("input",{type:"text",id:"firstName",value:i.firstName,onChange:a}),Object(u.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(u.jsx)("input",{type:"text",id:"lastName",value:i.lastName,onChange:a}),Object(u.jsx)("label",{htmlFor:"role",children:"Your role"}),Object(u.jsx)("input",{type:"text",id:"role",value:i.role,onChange:a}),Object(u.jsx)("button",{type:"submit",children:g?"Loading...":"Sign Up"}),Object(u.jsx)("h3",{children:"Or login to your account"}),Object(u.jsx)("button",{onClick:function(){return n("/login")},children:"Login"}),O?O.map((function(e){return Object(u.jsx)("p",{style:{color:"red"},children:e},e)})):null]})},O=function(e){var t=e.onLogin,n=Object(j.f)(),o=Object(c.useState)(""),r=Object(l.a)(o,2),i=r[0],s=r[1],a=Object(c.useState)(""),d=Object(l.a)(a,2),b=d[0],h=d[1],p=Object(c.useState)([]),O=Object(l.a)(p,2),m=O[0],f=O[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:" Already have an account? Please log In"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:b})}).then((function(e){e.ok?e.json().then((function(e){t(e),n("/")})):e.json().then((function(e){return f(e.errors)}))}))},children:[Object(u.jsx)("input",{type:"text",id:"username",placeholder:"username",autoComplete:"off",value:i,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("input",{type:"password",id:"password",placeholder:"password",autoComplete:"off",value:b,onChange:function(e){return h(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Login"}),m?m.map((function(e){return Object(u.jsx)("p",{style:{color:"red"},children:e},e)})):null]}),Object(u.jsx)("h3",{children:"Or create new account"}),Object(u.jsx)("button",{onClick:function(){return n("/signup")},children:"Sign Up"})]})},m=function(e){var t=e.user,n=e.clients,c=e.employees,o=e.projects,r=Object(j.f)();return Object(u.jsx)("div",{children:t?Object(u.jsxs)("div",{children:[Object(u.jsxs)("h2",{children:["Welcome ",t.first_name," ",t.last_name,"! You have:"]}),Object(u.jsxs)("h4",{onClick:function(){return r("/employees")},children:[c.length," employees"]}),Object(u.jsxs)("h4",{onClick:function(){return r("/clients")},children:[n.length," clients"]}),Object(u.jsxs)("h4",{onClick:function(){return r("/projects")},children:[o.length," projects"]}),Object(u.jsxs)("h4",{onClick:function(){return r("/user")},children:[t.todos.length," items in your todo list"]})]}):Object(u.jsx)("h2",{children:"Please Sign Up or Login"})})},f=function(e){var t=e.employee,n=e.onDeleteEmployee,o=Object(c.useState)(!1),r=Object(l.a)(o,2),i=r[0],s=r[1],a=t.projects.map((function(e){return e.completed?Object(u.jsxs)("li",{children:[e.name,", COMPLETED"]},e.id):Object(u.jsxs)("li",{children:[e.name,", IN PROGRESS"]},e.id)})),d=Object(j.f)();return Object(u.jsxs)("div",{onClick:function(){s(!i)},className:"clientCard",children:[Object(u.jsxs)("h4",{children:[t.name,", ",t.title]}),1===t.projects_count?Object(u.jsx)("p",{children:" 1 project \u2193"}):Object(u.jsxs)("p",{children:[t.projects_count," projects \u2193"]}),i?a:null,0===t.projects_count?Object(u.jsx)("button",{onClick:function(){fetch("/employees/".concat(t.id),{method:"DELETE"}).then((function(e){e.ok?n(t.id):console.log("error: ",e.errors)}))},children:"Delete"}):null,Object(u.jsx)("button",{onClick:function(){d("/employees/"+t.id)},children:"Go to Employee page"})]})},x=function(e){var t=e.employees,n=e.onDeleteEmployee,o=Object(c.useState)(""),r=Object(l.a)(o,2),i=r[0],s=r[1],a=t.filter((function(e){return e.name.toLowerCase().includes(i)||e.title.toLowerCase().includes(i)})).map((function(e){return Object(u.jsx)(f,{employee:e,onDeleteEmployee:n},e.id)}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h2",{children:["Employee List  ",Object(u.jsx)("input",{type:"text",placeholder:" \ud83d\udd0d SEARCH",onChange:function(e){return s(e.target.value.toLowerCase())}})]}),Object(u.jsx)("div",{className:"clientCardContainer",children:t?a:Object(u.jsx)("p",{children:"Can't find employees"})})]})},g=function(e){var t=e.client,n=e.onDeleteClient,o=Object(c.useState)(!1),r=Object(l.a)(o,2),i=r[0],s=r[1],a=t.projects.map((function(e){return e.completed?Object(u.jsxs)("li",{children:[e.name,", COMPLETED"]},e.id):Object(u.jsxs)("li",{children:[e.name,", IN PROGRESS"]},e.id)})),d=Object(j.f)();return Object(u.jsxs)("div",{onClick:function(){s(!i)},className:"clientCard",children:[Object(u.jsx)("h3",{children:t.name}),1===t.projects_count?Object(u.jsx)("p",{children:" 1 project \u2193"}):Object(u.jsxs)("p",{children:[t.projects_count," projects \u2193"]}),i?a:null,0===t.projects_count?Object(u.jsx)("button",{onClick:function(){fetch("/clients/".concat(t.id),{method:"DELETE"}).then((function(e){e.ok?n(t.id):console.log("error: ",e.errors)}))},children:"Delete"}):null,Object(u.jsx)("button",{onClick:function(){d("/clients/"+t.id)},children:"Go to Client page"})]})},y=function(e){var t=e.clients,n=e.onDeleteClient,o=Object(c.useState)(""),r=Object(l.a)(o,2),i=r[0],s=r[1],a=t.filter((function(e){return e.name.toLowerCase().includes(i)})).map((function(e){return Object(u.jsx)(g,{client:e,onDeleteClient:n},e.id)}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h2",{children:["Client List  ",Object(u.jsx)("input",{type:"text",placeholder:" \ud83d\udd0d SEARCH",onChange:function(e){return s(e.target.value.toLowerCase())}})]}),Object(u.jsx)("div",{className:"clientCardContainer",children:t?a:Object(u.jsx)("p",{children:"Can't find clients"})})]})},v=function(e){var t=e.project,n=e.clients,o=e.employees,r=e.onDeleteProject,i=e.onUpdateProject,s=Object(c.useState)(!1),a=Object(l.a)(s,2),j=a[0],d=a[1],b=Object(c.useState)(t.name),h=Object(l.a)(b,2),p=h[0],O=h[1],m=Object(c.useState)(t.client.id),f=Object(l.a)(m,2),x=f[0],g=f[1],y=Object(c.useState)(t.employee.id),v=Object(l.a)(y,2),C=v[0],S=v[1],w=Object(c.useState)(t.completed),N=Object(l.a)(w,2),k=N[0],E=N[1],P=Object(c.useState)([]),L=Object(l.a)(P,2),A=L[0],D=L[1],F=function(){fetch("/projects/".concat(t.id),{method:"DELETE"}).then((function(e){e.ok&&r(t.id)}))},T=function(e){e.preventDefault();var n={name:p,client_id:x,employee_id:C,completed:k};fetch("/projects/".concat(t.id),{method:"PATCH",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok?e.json().then((function(e){i(e),d(!1)})):e.json().then((function(e){return D(e.errors)}))})).catch((function(e){return console.log(e)}))};return Object(u.jsx)("div",{className:"projectCard",children:j?Object(u.jsxs)("form",{onSubmit:T,children:[Object(u.jsx)("input",{type:"text",id:"projectname",autoComplete:"off",value:p,placeholder:"Project name",onChange:function(e){return O(e.target.value)},style:{width:"200px",margin:"5px"}}),Object(u.jsxs)("select",{value:x,onChange:function(e){return g(e.target.value)},style:{width:"200px",margin:"5px"},children:[Object(u.jsx)("option",{value:"",children:"Select a client"}),n.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(u.jsxs)("select",{value:C,onChange:function(e){return S(e.target.value)},style:{width:"200px",margin:"5px"},children:[Object(u.jsx)("option",{value:"",children:"Select a employee"}),o.map((function(e){return Object(u.jsxs)("option",{value:e.id,children:[e.name,", ",e.title]},e.id)}))]}),Object(u.jsx)("label",{htmlFor:"completed",children:"Completed"}),Object(u.jsx)("input",{id:"completed",type:"checkbox",checked:k,onChange:function(e){return E(e.target.checked)}}),A?A.map((function(e){return Object(u.jsx)("p",{children:e},e)})):null,Object(u.jsx)("button",{type:"submit",style:{width:"200px",margin:"5px"},children:"Save"})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{style:{backgroundColor:"#6a80adb0",fontSize:"20px"},children:t.name.toUpperCase()}),t.completed?Object(u.jsx)("p",{style:{backgroundColor:"white",color:"green",fontStyle:"oblique"},children:"COMPLETED!"}):Object(u.jsx)("p",{style:{backgroundColor:"white",color:"red",fontStyle:"oblique"},children:"IN PROGRESS"}),Object(u.jsxs)("div",{children:["Client: ",t.client.name]}),Object(u.jsxs)("div",{children:["Employee: ",t.employee.name,", ",t.employee.title]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){d(!j)},children:"Edit"}),Object(u.jsx)("button",{onClick:F,children:"Delete"})]})]})})},C=function(e){var t=e.clients,n=e.employees,c=e.projects,r=e.onDeleteProject,i=e.onUpdateProject,s=o.a.useState("all"),a=Object(l.a)(s,2),j=a[0],d=a[1],b=("all"===j?c:"completed"===j?c.filter((function(e){return!0===e.completed})):c.filter((function(e){return!1===e.completed||null===e.completed}))).map((function(e){return Object(u.jsx)(v,{project:e,clients:t,employees:n,onDeleteProject:r,onUpdateProject:i},e.id)}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Project List "}),Object(u.jsx)("input",{type:"radio",name:"filter",value:"all",onChange:function(e){return d(e.target.value)},checked:"all"===j})," All",Object(u.jsx)("input",{type:"radio",name:"filter",value:"completed",onChange:function(e){return d(e.target.value)},checked:"completed"===j})," Completed",Object(u.jsx)("input",{type:"radio",name:"filter",value:"inProgress",onChange:function(e){return d(e.target.value)},checked:"inProgress"===j})," In Progress",Object(u.jsx)("div",{className:"projectCardContainer",children:c?b:Object(u.jsx)("p",{children:"No projects so far"})})]})},S=function(e){var t=e.setShowForm,n=e.clients,o=e.employees,r=e.onAddProject,i=Object(j.f)(),s=Object(c.useState)(""),a=Object(l.a)(s,2),d=a[0],b=a[1],h=Object(c.useState)(""),p=Object(l.a)(h,2),O=p[0],m=p[1],f=Object(c.useState)(""),x=Object(l.a)(f,2),g=x[0],y=x[1],v=Object(c.useState)([]),C=Object(l.a)(v,2),S=C[0],w=C[1];return Object(u.jsxs)("div",{className:"App-form",children:[Object(u.jsx)("h3",{className:"App-logo",children:"New Project"}),Object(u.jsxs)("form",{className:"App-form-input",onSubmit:function(e){e.preventDefault();var n={name:d,client_id:O,employee_id:g};fetch("/projects",{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok?e.json().then((function(e){r(e),t(!1),i("/projects")})):e.json().then((function(e){w(e.errors)}))})).catch((function(e){return console.log(e)}))},children:[Object(u.jsx)("input",{type:"text",id:"projectname",autoComplete:"off",value:d,placeholder:"Project name",onChange:function(e){return b(e.target.value)}}),Object(u.jsxs)("select",{className:"dropdown",onChange:function(e){return m(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"Select a client"}),n.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(u.jsxs)("select",{className:"dropdown",onChange:function(e){return y(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"Select a employee"}),o.map((function(e){return Object(u.jsxs)("option",{value:e.id,children:[e.name,", ",e.title]},e.id)}))]}),S?S.map((function(e){return Object(u.jsx)("p",{children:e},e)})):null,Object(u.jsx)("button",{className:"submit-button",type:"submit",children:"Submit"}),Object(u.jsx)("button",{className:"cancel-button",onClick:function(){return t(!1)},children:"X"})]})]})},w=function(e){var t=e.onSetShowFormClient,n=e.onAddClient,o=Object(j.f)(),r=Object(c.useState)(""),i=Object(l.a)(r,2),s=i[0],a=i[1],d=Object(c.useState)([]),b=Object(l.a)(d,2),h=b[0],p=b[1];return Object(u.jsxs)("div",{className:"App-form",children:[Object(u.jsx)("h3",{className:"App-logo",children:"New Client"}),Object(u.jsxs)("form",{className:"App-form-input",onSubmit:function(e){e.preventDefault();var c={name:s};fetch("/clients",{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(c)}).then((function(e){e.ok?e.json().then((function(e){n(e),t(!1),o("/clients")})):e.json().then((function(e){p(e.errors)}))})).catch((function(e){return console.log(e)}))},children:[Object(u.jsx)("input",{type:"text",id:"clientname",autoComplete:"off",value:s,placeholder:"Client name",onChange:function(e){return a(e.target.value)}}),h?h.map((function(e){return Object(u.jsx)("p",{children:e},e)})):null,Object(u.jsx)("button",{className:"submit-button",type:"submit",children:"Submit"}),Object(u.jsx)("button",{className:"cancel-button",onClick:function(){return t(!1)},children:"X"})]})]})},N=function(e){var t=e.onSetShowFormEmployee,n=e.onAddEmployee,o=Object(j.f)(),r=Object(c.useState)(""),i=Object(l.a)(r,2),s=i[0],a=i[1],d=Object(c.useState)(""),b=Object(l.a)(d,2),h=b[0],p=b[1],O=Object(c.useState)([]),m=Object(l.a)(O,2),f=m[0],x=m[1];return Object(u.jsxs)("div",{className:"App-form",children:[Object(u.jsx)("h3",{className:"App-logo",children:"New employee"}),Object(u.jsxs)("form",{className:"App-form-input",onSubmit:function(e){e.preventDefault();var c={name:s,title:h};fetch("/employees",{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(c)}).then((function(e){e.ok?e.json().then((function(e){n(e),t(!1),o("/employees")})):e.json().then((function(e){x(e.errors)}))})).catch((function(e){return console.log(e)}))},children:[Object(u.jsx)("input",{id:"employeename",type:"text",autoComplete:"off",value:s,placeholder:"New employee name",onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("input",{id:"employeetitle",type:"text",autoComplete:"off",value:h,placeholder:"New employee title",onChange:function(e){return p(e.target.value)}}),f?f.map((function(e){return Object(u.jsx)("p",{children:e},e)})):null,Object(u.jsx)("button",{className:"submit-button",type:"submit",children:"Submit"}),Object(u.jsx)("button",{className:"cancel-button",onClick:function(){return t(!1)},children:"X"})]})]})},k=function(e){var t=e.onLogout,n=Object(j.f)();return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Are you sure you want to log out? "}),Object(u.jsx)("button",{style:{width:"auto",height:"40px",fontSize:"calc(20px)"},onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(){t(null),n("/login")}))},children:"YES! Log out"}),Object(u.jsx)("button",{style:{width:"auto",height:"40px",fontSize:"calc(20px)"},onClick:function(){return n("/")},children:"NO! Stay logged in"})]})},E=function(e){var t=e.onSetShowForm,n=e.onSetShowFormClient,c=e.onSetShowFormEmployee;return Object(u.jsxs)("div",{className:"App-show-form-buttons",children:[Object(u.jsx)("button",{onClick:function(){return n(!0)},className:"show-form-button",children:"Add new client"}),Object(u.jsx)("button",{onClick:function(){return t(!0)},className:"show-form-button",children:"Add new project"}),Object(u.jsx)("button",{onClick:function(){return c(!0)},className:"show-form-button",children:"Add new employee"})]})},P=function(){var e=Object(j.g)().id,t=Object(j.f)(),n=Object(c.useState)(null),o=Object(l.a)(n,2),r=o[0],i=o[1];return Object(c.useEffect)((function(){fetch("/clients/".concat(e)).then((function(e){e.ok?e.json().then((function(e){return i(e)})):e.json().then((function(e){return console.log(e.errors)}))}))}),[e]),r?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:r.name}),Object(u.jsx)("h4",{children:"Works with: "}),r.employees.map((function(e){return Object(u.jsxs)("li",{id:e.id,onClick:function(){return t("/employees/"+e.id)},children:[e.name,", ",e.title]},e.id)})),Object(u.jsx)("h4",{children:"Project list: "}),r.projects.map((function(e){return Object(u.jsx)("li",{id:e.id,children:e.name},e.id)}))]}):Object(u.jsx)("div",{children:"Loading..."})},L=function(){var e=Object(j.g)().id,t=Object(j.f)(),n=Object(c.useState)(null),o=Object(l.a)(n,2),r=o[0],i=o[1];return Object(c.useEffect)((function(){fetch("/employees/".concat(e)).then((function(e){e.ok?e.json().then((function(e){return i(e)})):e.json().then((function(e){return console.log(e.errors)}))}))}),[e]),r?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:r.name}),Object(u.jsx)("h3",{children:r.title}),Object(u.jsx)("h4",{children:"works with:"}),r.clients.map((function(e){return Object(u.jsx)("li",{id:e.id,onClick:function(){return t("/clients/"+e.id)},children:e.name},e.id)})),Object(u.jsx)("h4",{children:"project list: "}),r.projects.map((function(e){return Object(u.jsx)("li",{id:e.id,children:e.name},e.id)}))]}):Object(u.jsx)("div",{children:"Loading..."})},A=function(e){var t=e.todo,n=e.onDeleteTodo;return Object(u.jsxs)("li",{children:[t.name," ",Object(u.jsx)("button",{onClick:function(){fetch("/todos/".concat(t.id),{method:"DELETE"}).then((function(e){e.ok?n(t.id):e.json().then((function(e){return console.log(e.errors)}))}))},children:"X"})]})},D=function(e){var t=e.user,n=Object(c.useState)(""),o=Object(l.a)(n,2),r=o[0],i=o[1],a=Object(c.useState)(t.todos),j=Object(l.a)(a,2),d=j[0],b=j[1],h=function(e){b(d.filter((function(t){return t.id!==e})))};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h1",{children:[t.first_name," ",t.last_name]}),Object(u.jsxs)("h2",{children:[" Title: ",t.role]}),Object(u.jsx)("h3",{children:"Your To do list: "}),d.map((function(e){return Object(u.jsx)(A,{todo:e,onDeleteTodo:h},e.id)})),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(r),fetch("/todos",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:r,user_id:t.id})}).then((function(e){e.ok?e.json().then((function(e){return b([].concat(Object(s.a)(d),[e]))})):e.json().then((function(e){return console.log(e.errors)}))})),i("")},children:[Object(u.jsx)("input",{type:"text",placeholder:"Add a todo",onChange:function(e){return i(e.target.value)},value:r}),Object(u.jsx)("button",{type:"submit",children:"Add"})]})]})};var F=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)([]),i=Object(l.a)(r,2),b=i[0],h=i[1],f=Object(c.useState)([]),g=Object(l.a)(f,2),v=g[0],A=g[1],F=Object(c.useState)([]),T=Object(l.a)(F,2),_=T[0],R=T[1],J=Object(c.useState)(!1),U=Object(l.a)(J,2),I=U[0],G=U[1],M=Object(c.useState)(!1),X=Object(l.a)(M,2),Y=X[0],z=X[1],H=Object(c.useState)(!1),q=Object(l.a)(H,2),B=q[0],W=q[1];return Object(c.useEffect)((function(){document.title="Project Tracker",fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return o(e)}))}))}),[]),Object(c.useEffect)((function(){fetch("/employees").then((function(e){return e.json()})).then((function(e){A(e)})).catch((function(e){return console.log(e)})),fetch("/clients").then((function(e){return e.json()})).then((function(e){h(e)})).catch((function(e){return console.log(e)}))}),[n,_]),Object(c.useEffect)((function(){fetch("/projects").then((function(e){return e.json()})).then((function(e){R(e)})).catch((function(e){return console.log(e)}))}),[n]),n?Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(a.a,{children:[Object(u.jsx)(d,{user:n}),Y?Object(u.jsx)(w,{onSetShowFormClient:z,onAddClient:function(e){var t=[].concat(Object(s.a)(b),[e]);h(t)}}):null,B?Object(u.jsx)(N,{onSetShowFormEmployee:W,onAddEmployee:function(e){var t=[].concat(Object(s.a)(v),[e]);A(t)}}):null,I?Object(u.jsx)(S,{setShowForm:G,clients:b,employees:v,onAddProject:function(e){var t=[].concat(Object(s.a)(_),[e]);R(t)}}):null,Object(u.jsx)(E,{onSetShowForm:G,onSetShowFormClient:z,onSetShowFormEmployee:W}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/",element:Object(u.jsx)(m,{user:n,clients:b,employees:v,projects:_})}),Object(u.jsx)(j.a,{path:"/logout",element:Object(u.jsx)(k,{onLogout:o})}),Object(u.jsx)(j.a,{path:"/employees",element:Object(u.jsx)(x,{employees:v,onDeleteEmployee:function(e){var t=v.filter((function(t){return t.id!==e}));A(t)}})}),Object(u.jsx)(j.a,{path:"/clients",element:Object(u.jsx)(y,{clients:b,onDeleteClient:function(e){var t=b.filter((function(t){return t.id!==e}));h(t)}})}),Object(u.jsx)(j.a,{path:"/clients/:id",element:Object(u.jsx)(P,{})}),Object(u.jsx)(j.a,{path:"/employees/:id",element:Object(u.jsx)(L,{})}),Object(u.jsx)(j.a,{path:"/projects",element:Object(u.jsx)(C,{projects:_,onUpdateProject:function(e){var t=_.map((function(t){return t.id===e.id?e:t}));R(t)},onDeleteProject:function(e){var t=_.filter((function(t){return t.id!==e}));R(t)},clients:b,employees:v})}),Object(u.jsx)(j.a,{path:"/user",element:Object(u.jsx)(D,{user:n})})]})]})}):Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(a.a,{children:[Object(u.jsx)(d,{}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/",element:Object(u.jsx)(m,{user:n})}),Object(u.jsx)(j.a,{path:"/signup",element:Object(u.jsx)(p,{onLogin:o})}),Object(u.jsx)(j.a,{path:"/login",element:Object(u.jsx)(O,{onLogin:o})})]})]})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(F,{})}),document.getElementById("root")),T()}},[[20,1,2]]]);
//# sourceMappingURL=main.eb7e0e30.chunk.js.map